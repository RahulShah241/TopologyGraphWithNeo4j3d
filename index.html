<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Neo4jd3 Task Graph</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="./css/style.css" />
    <link rel="stylesheet" href="./css/font-awesome.min.css" />
    <link rel="stylesheet" href="./css/neo4jd3.min.css" />
  </head>
  <body class="bg-dark text-light">
    <div class="container py-4">
      <h1 class="text-center">Task Graph Demo</h1>

      <!-- Task Input -->
      <div class="d-flex gap-3 flex-lg-row flex-column justify-content-around my-3">
        <div>
          <h3>Add Task</h3>
          <div class="add text-center my-4">
            <div class="d-flex gap-2">
              <div>
                <label for="add" class="add text-light">Hours:</label>
                <input required type="number" class="form-control m-auto" name="task_hours" id="task_hours" />
              </div>
              <div>
                <label for="add" class="add text-light">Task Name:</label>
                <input required type="text" class="form-control m-auto" name="task_name" id="task_name" />
              </div>
            </div>
            <div class="mt-4">
              <button onclick="addtask()" class="btn btn-primary w-100">ADD Task</button>
            </div>
          </div>

          <ul id="task_ul" class="list-group mx-auto text-light mb-1 mt-2">
            <li class="list-header d-flex justify-content-between align-items-center">
              <div class="task_list_hour">INDEX</div>
              <div class="task_list_name">TIME</div>
              <div class="task_list_name">NAME</div>
              <div class="task_list_name"></div>
            </li>
          </ul>
        </div>

        <!-- Relationship Input -->
        <div>
          <h3>Add Relationship</h3>
          <div class="d-flex gap-2">
            <div>
              <label for="node_id" class="add text-light">Node Index Number : </label>
              <input required type="number" class="form-control m-auto" name="node_id" id="node_id" />
            </div>
            <div>
              <label for="node_time" class="add text-light">Node Time (In Hours) : </label>
              <input required type="number" class="form-control m-auto" name="node_time" id="node_time" />
            </div>
          </div>

          <div class="d-flex gap-2 mt-3">
            <div>
              <label for="start_node" class="add text-light">Start Node : </label>
              <input required type="number" class="form-control m-auto" name="start_node" id="start_node" />
            </div>
            <div>
              <label for="end_node" class="add text-light">End Node : </label>
              <input required type="number" class="form-control m-auto" name="end_node" id="end_node" />
            </div>
          </div>
          <button onclick="addRelationship()" class="btn btn-success w-100 mt-4">Add Relationship</button>

          <ul id="relationship_ul" class="list-group mx-auto text-light mb-1 mt-3">
            <li class="list-header d-flex justify-content-between align-items-center">
              <div class="task_list_hour">INDEX</div>
              <div class="task_list_name">TIME</div>
              <div class="task_list_name">START</div>
              <div class="task_list_name">END</div>
              <div class="task_list_name"></div>
            </li>
          </ul>
          <!--  Relationship LIST  -->
          <ul id="relationship_ul" class="mt-3 list-group mx-auto text-light">
            <!-- Relation list items -->
          </ul>
        </div>
      </div>
      <div class="d-flex gap-3 flex-lg-row flex-column justify-content-around">
        <div class="d-flex mb-3 justify-content-end">
          <button onclick="clearTask()" class="btn btn-danger float-right">Clear Task</button>
        </div>
        <div class="d-flex mb-3 justify-content-end">
          <button onclick="clearTask()" class="btn btn-danger float-right">Clear Relationship</button>
        </div>
      </div>
      <!-- Create Graph Button -->
      <div class="text-center my-3">
        <button onclick="createGraph()" class="btn btn-warning w-50">Create Graph</button>
      </div>

      <!-- Graph Output -->
      <div class="d-flex gap-3 flex-lg-row flex-column justify-content-around">
        <div>
          <h5>Original Graph</h5>
          <div id="graph" style="width: 500px; height: 500px"></div>
        </div>
        <div>
          <h5>Topological Graph</h5>
          <div id="Tgraph" style="width: 500px; height: 500px"></div>
        </div>
      </div>
    </div>

    <!-- Libraries -->
    <script src="./js/d3.min.js"></script>
    <script src="./js/neo4jd3.min.js"></script>
    <script src="./js/script.js"></script>
    <script src="https://kit.fontawesome.com/833444f3ff.js" crossorigin="anonymous"></script>
  </body>
</html>
